<div layout="column" flex layout-padding>
  <p layout="row" ng-hide="$ctrl.dataReady || $ctrl.dataError" class="no-margin-top-bottom">Aguarde. Preparando lista de opções.</p>
  <p layout="row" md-warn ng-show="$ctrl.dataError">Erro ao carregar opções.</p>
  <md-autocomplete
    ng-disabled="!$ctrl.dataReady || $ctrl.answer"
    md-search-text="$ctrl.autoCompleteSettings.searchText"
    md-selected-item="$ctrl.answer"
    md-selected-item-change="$ctrl.update()"
    md-items="meds in $ctrl.searchQuery($ctrl.autoCompleteSettings.searchText)"
    md-item-text="meds.value"
    md-min-length="3"
    placeholder="Inicie a digitação"
    class="autocomplete-fancy">
    <md-item-template layout-fill flex class="autocomplete-fancy">
    <span md-highlight-text="$ctrl.autoCompleteSettings.searchText" md-highlight-flags="gi">{{meds.value}}</span>
    </md-item-template>
    <md-not-found>
      <span ng-click="$ctrl.setOther()">"{{$ctrl.autoCompleteSettings.searchText}}" não encontrado. Clique para responder com "Outro"</span>
    </md-not-found>
  </md-autocomplete>
</div>
